# API Guide

This guide covers programmatic access to TimeTiles chronicles, including REST API endpoints, authentication, and data export formats.

## API Access

### REST API Endpoints

Access chronicle data programmatically:

```javascript
// Get chronicle metadata
GET /api/chronicles/{chronicle-id}

// Get events with filters
GET /api/chronicles/{chronicle-id}/events?
  dateFrom=2024-01-01&
  dateTo=2024-12-31&
  categories=technology,business

// Get aggregated statistics
GET /api/chronicles/{chronicle-id}/stats
```

### Authentication

For private chronicles, include API key:

```javascript
fetch("https://your-timetiles.com/api/chronicles/abc123/events", {
  headers: {
    Authorization: "Bearer YOUR_API_KEY",
  },
});
```

### Rate Limiting

API requests are rate-limited:

- **Public chronicles**: 100 requests/hour
- **Authenticated**: 1000 requests/hour
- **Premium**: Custom limits

## Data Export Formats

### JSON Export

Machine-readable format for developers:

```json
{
  "events": [
    {
      "id": "evt_123",
      "title": "Event 1",
      "date": "2024-03-15T10:00:00Z",
      "location": {
        "address": "San Francisco",
        "coordinates": [37.7749, -122.4194]
      }
    }
  ]
}
```

### GeoJSON Export

For GIS applications:

```json
{
  "type": "FeatureCollection",
  "features": [
    {
      "type": "Feature",
      "geometry": {
        "type": "Point",
        "coordinates": [-122.4194, 37.7749]
      },
      "properties": {
        "title": "Event 1",
        "date": "2024-03-15"
      }
    }
  ]
}
```

## CORS Configuration

Configure cross-origin access for embeds:

```javascript
// In chronicle settings
allowedDomains: [
  "https://yourwebsite.com",
  "https://partner-site.org",
  "*.yourdomain.com", // Wildcard subdomain
];
```

## Analytics Integration

### Google Analytics

Add tracking to embedded chronicles:

```html
<iframe src="https://your-timetiles.com/embed/chronicle-id?ga=UA-XXXXX-Y"> </iframe>
```

### Custom Events

Track user interactions:

```javascript
window.addEventListener("message", (event) => {
  if (event.origin !== "https://your-timetiles.com") return;
  
  const { action, data } = event.data;
  // Track with your analytics service
  analytics.track(action, data);
});
```

## API Reference

For detailed API documentation including all endpoints, request/response schemas, and error codes, see the [API Reference](../reference/api).