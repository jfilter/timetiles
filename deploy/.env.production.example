# Production Environment Configuration
# Copy this file to .env.production and fill in your values

# ==========================================
# Docker Compose Configuration
# ==========================================
# Project name (used for container names)
COMPOSE_PROJECT_NAME=timetiles

# Image configuration
IMAGE_NAME=timetiles-web
IMAGE_TAG=latest
DOCKERFILE_PATH=deploy/Dockerfile.prod

# ==========================================
# Database Configuration
# ==========================================
DB_NAME=timetiles
DB_USER=timetiles_user
DB_PASSWORD=CHANGE_ME_STRONG_PASSWORD
DATABASE_URL=postgresql://${DB_USER}:${DB_PASSWORD}@postgres:5432/${DB_NAME}

# PostgreSQL version
POSTGRES_VERSION=17-3.5

# PostgreSQL tuning (optional - defaults are optimized for 2GB RAM)
# PG_MAX_LOCKS=1024
# PG_STACK_DEPTH=7680kB
# PG_WORK_MEM=32MB
# PG_SHARED_BUFFERS=256MB
# PG_MAX_CONNECTIONS=100
# PG_CACHE_SIZE=1GB
# PG_MAINTENANCE_MEM=128MB
# PG_LOG_STATEMENT=none

# ==========================================
# Payload CMS Configuration
# ==========================================
# Generate with: openssl rand -base64 32
PAYLOAD_SECRET=CHANGE_ME_RANDOM_32_CHAR_SECRET

# Your production domain (e.g., timetiles.example.com)
DOMAIN_NAME=your-domain.com
NEXT_PUBLIC_PAYLOAD_URL=https://${DOMAIN_NAME}

# ==========================================
# Application Settings
# ==========================================
NODE_ENV=production

# Port configuration
HOST_PORT=3000          # Port exposed on host machine
CONTAINER_PORT=3000     # Port inside container

# Logging
LOG_LEVEL=info

# ==========================================
# Geocoding Services (Optional)
# ==========================================
# Google Maps API key for geocoding
GOOGLE_MAPS_API_KEY=

# Rate limiting for geocoding requests
GEOCODING_RATE_LIMIT=10

# ==========================================
# Nginx & SSL Configuration
# ==========================================
# NGINX_VERSION=alpine
# HTTP_PORT=80
# HTTPS_PORT=443
# NGINX_CONF_PATH=./deploy/nginx/nginx.conf

# Email for Let's Encrypt notifications
LETSENCRYPT_EMAIL=admin@${DOMAIN_NAME}